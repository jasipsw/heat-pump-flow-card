## Summary

Fixed heat pump brand name display issue where text wasn't rendering despite being present in the DOM with zero dimensions.

## Changes

### Fixed: Brand Name Text Rendering (v0.20.4)

**Problem:**
- Brand name text configured via `heat_pump.display_name` was not visible
- Text element existed in DOM but had zero width and zero height
- Console inspection showed `getBoundingClientRect()` returned `{width: 0, height: 0}`

**Root Cause:**
- Brand name text was using nested `html`...`` template wrapper within conditional rendering
- This differed from other working text elements which were directly in the parent template
- Lit HTML was not properly rendering the conditionally wrapped text element

**Solution:**
- Removed nested `html` wrapper from brand text element
- Changed from conditional element rendering to conditional content rendering
- Matched structure of working text elements (like mode label at y="85")
- Moved text position from y="20" to y="10" for better visibility above fan

**Before:**
```typescript
${this.config.heat_pump?.display_name ? html`
  <text x="60" y="20" ...>
    ${this.config.heat_pump.display_name}
  </text>
` : ''}
```

**After:**
```typescript
<text x="60" y="10" text-anchor="middle" fill="${hpTextColor}" font-size="10" font-weight="bold">
  ${this.config.heat_pump?.display_name || ''}
</text>
```

## Configuration

No changes to configuration - existing setup works:

```yaml
heat_pump:
  display_name: "Chiltrix CX50-2"  # Shows brand/model at top of heat pump
```

## Files Changed

- `src/heat-pump-flow-card.ts` - Fixed brand text rendering structure
- `src/const.ts` - Version bump to 0.20.4
- `package.json` - Version bump to 0.20.4

## Test Plan

- [ ] Verify brand name text displays at top of heat pump box
- [ ] Confirm text has proper dimensions (width > 0, height > 0)
- [ ] Check text color contrasts correctly with heat pump state (white on dark, dark on light)
- [ ] Verify text positioned above fan at y=10
- [ ] Test with and without `display_name` configured

## Technical Notes

This fix reveals an important pattern for Lit HTML in SVG contexts:
- ✅ Direct text elements with conditional content: `<text>${condition ? value : ''}</text>`
- ❌ Conditionally rendered text in nested html``: `${condition ? html`<text>...</text>` : ''}`

The nested `html` pattern works for some elements (like error text at y="100") but failed for brand text at y="10". The root cause may be related to SVG rendering order or Lit's handling of conditional fragments in specific positions.
